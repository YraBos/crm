MODULE DocEvent;

REQUIRE Event, Doc;

NAMESPACE Doc;

addEvent ABSTRACT LIST (Event, Document);

addEventDoc 'Добавить' (Document d) {
    NEWSESSION NEW e = Event {
        addEvent(e, d);
        SHOW event OBJECTS o = e DOCKED;
    }
} IMAGE 'add.png'  CHANGEKEY 'INSERT' HIDE;

CONSTRAINT contact(Event e) AND legalEntity(e) AND NOT legalEntity(e) == legalEntity(contact(e)) CHECKED BY contact[Event] MESSAGE 'Контактное лицо не соответствует организации';